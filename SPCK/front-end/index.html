<!DOCTYPE html>
<html lang="vi" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Book Store - Ho√†n ch·ªânh</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <h1>BILLEYS Book Store</h1>
    </header>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="#" onclick="showPage('home')"
          >BookStore</a
        >
        <form class="d-flex mx-auto position-relative" id="search-form">
          <input
            class="form-control me-2"
            type="search"
            placeholder="T√¨m ki·∫øm s√°ch..."
            id="search-input"
            autocomplete="off"
            required
          />
          <button class="btn btn-outline-success" type="submit">T√¨m</button>
          <div id="search-suggestions" class="truly-hidden"></div>
        </form>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto align-items-center">
            <li class="nav-item" id="home-link-li">
              <a class="nav-link" href="#" onclick="showPage('home')"
                >Trang ch·ªß</a
              >
            </li>
            <li class="nav-item" id="forum-link-li">
              <a class="nav-link" href="#" onclick="showPage('forum')"
                >Di·ªÖn ƒë√†n</a
              >
            </li>
            <li class="nav-item" id="my-books-link-li" class="truly-hidden">
              <a class="nav-link" href="#" onclick="showPage('my-books')"
                >S√°ch C·ªßa T√¥i</a
              >
            </li>
            <li class="nav-item" id="about-link-li">
              <a class="nav-link" href="#" onclick="showPage('about')"
                >Gi·ªõi thi·ªáu</a
              >
            </li>
            <li
              id="manage-user-books-link"
              class="nav-item truly-hidden admin-only"
            >
              <a class="nav-link" href="#" onclick="showPage('manage-books')"
                >Qu·∫£n L√Ω S√°ch User</a
              >
            </li>
            <li id="submit-feedback-link" class="nav-item">
              <a class="nav-link" href="#" onclick="showPage('submit-feedback')"
                >G·ª≠i Feedback</a
              >
            </li>
            <li id="inbox-link" class="nav-item truly-hidden">
              <a class="nav-link" href="#" onclick="showPage('feedback-inbox')"
                >H·ªôp th∆∞ Feedback</a
              >
            </li>
            <li id="login-link" class="nav-item">
              <a class="nav-link" href="#" onclick="showPage('register')"
                >ƒêƒÉng nh·∫≠p/ƒêƒÉng k√Ω</a
              >
            </li>
            <li id="user-info" class="nav-item dropdown truly-hidden">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="user-dropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              ></a>
              <ul
                class="dropdown-menu dropdown-menu-end"
                aria-labelledby="user-dropdown"
              >
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="showPage('settings')"
                    >C√†i ƒë·∫∑t t√†i kho·∫£n</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item admin-only truly-hidden"
                    href="#"
                    onclick="showPage('manage-users')"
                    >Qu·∫£n l√Ω ng∆∞·ªùi d√πng</a
                  >
                </li>
                <li><hr class="dropdown-divider admin-only truly-hidden" /></li>
                <li>
                  <a class="dropdown-item" href="#" onclick="handleLogout()"
                    >ƒêƒÉng xu·∫•t</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <button id="theme-toggle-btn" class="btn btn-outline-light ms-2">
                üåô
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container">
      <div id="loader" class="text-center my-5 truly-hidden">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <section id="landing" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">Ch√†o m·ª´ng ƒë·∫øn v·ªõi Th∆∞ vi·ªán S√°ch Online</h2>
        <p class="lead text-center">
          N∆°i b·∫°n c√≥ th·ªÉ kh√°m ph√° h√†ng ng√†n ƒë·∫ßu s√°ch thu·ªôc m·ªçi lƒ©nh v·ª±c.
          <br />
          ƒê·ªÉ tr·∫£i nghi·ªám ƒë·∫ßy ƒë·ªß c√°c t√≠nh nƒÉng, vui l√≤ng ƒëƒÉng nh·∫≠p ho·∫∑c ƒëƒÉng k√Ω
          t√†i kho·∫£n.
        </p>
      </section>

      <section id="register" class="page hidden truly-hidden">
        <div class="auth-container">
          <div id="loginForm">
            <h2 class="text-center">ƒêƒÉng nh·∫≠p</h2>
            <form id="login-form-element" class="mt-4">
              <input
                type="email"
                id="login-email"
                placeholder="Email"
                required
                class="form-control"
              />
              <input
                type="password"
                id="login-password"
                placeholder="M·∫≠t kh·∫©u"
                required
                class="form-control mt-3"
              />
              <a
                href="#"
                class="d-block text-end mt-2"
                onclick="showPage('forgot-password')"
                >Qu√™n m·∫≠t kh·∫©u?</a
              >
              <button type="submit" class="btn btn-primary w-100 mt-3">
                ƒêƒÉng nh·∫≠p
              </button>
            </form>

            <div class="d-flex align-items-center my-3">
              <hr class="flex-grow-1" />
              <span class="px-2 text-muted">ho·∫∑c</span>
              <hr class="flex-grow-1" />
            </div>
            <button id="google-login-btn" class="btn btn-light w-100 border">
              <i class="fab fa-google"></i> Ti·∫øp t·ª•c v·ªõi Google
            </button>

            <a class="d-block text-center mt-3" href="#" onclick="toggleAuth()"
              >*Ch∆∞a c√≥ t√†i kho·∫£n? ƒêƒÉng k√Ω</a
            >
          </div>
          <div id="registerForm" class="truly-hidden">
            <h2 class="text-center">ƒêƒÉng k√Ω</h2>
            <form id="register-form-element" class="mt-4">
              <input
                type="text"
                id="register-username"
                placeholder="T√™n ng∆∞·ªùi d√πng"
                required
                class="form-control"
              />
              <input
                type="email"
                id="register-email"
                placeholder="Email"
                required
                class="form-control mt-3"
              />
              <input
                type="password"
                id="register-password"
                placeholder="M·∫≠t kh·∫©u"
                required
                class="form-control mt-3"
              />
              <button type="submit" class="btn btn-primary w-100 mt-3">
                ƒêƒÉng k√Ω
              </button>
            </form>
            <a class="d-block text-center mt-3" href="#" onclick="toggleAuth()"
              >*ƒê√£ c√≥ t√†i kho·∫£n? ƒêƒÉng nh·∫≠p</a
            >
          </div>
        </div>
      </section>

      <section id="forgot-password" class="page hidden truly-hidden">
        <div class="auth-container">
          <h2 class="text-center">ƒê·∫∑t L·∫°i M·∫≠t Kh·∫©u</h2>
          <p class="text-center text-muted mt-2">
            Nh·∫≠p email c·ªßa b·∫°n ƒë·ªÉ nh·∫≠n h∆∞·ªõng d·∫´n ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u.
          </p>
          <form id="forgot-password-form" class="mt-4">
            <input
              type="email"
              id="forgot-password-email"
              placeholder="Email ƒë√£ ƒëƒÉng k√Ω"
              required
              class="form-control"
            />
            <button type="submit" class="btn btn-primary w-100 mt-3">
              G·ª≠i H∆∞·ªõng D·∫´n
            </button>
          </form>
          <a
            class="d-block text-center mt-3"
            href="#"
            onclick="showPage('register')"
            >Quay l·∫°i ƒêƒÉng nh·∫≠p</a
          >
        </div>
      </section>

      <section id="home" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">S√°ch N·ªïi B·∫≠t</h2>
        <div id="home-books" class="book-section"></div>
      </section>
      <section id="browse" class="page hidden truly-hidden">
        <h2 id="browse-title" class="text-center mb-4"></h2>
        <div id="browse-books" class="book-section"></div>
      </section>
      <section id="book-detail" class="page hidden truly-hidden"></section>

      <section id="about" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">V·ªÅ BILLEYS Book Store</h2>
        <div class="row align-items-center my-5">
          <div class="col-md-7">
            <p class="lead">
              Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi BILLEYS Book Store, m·ªôt d·ª± √°n ƒë∆∞·ª£c x√¢y d·ª±ng
              v·ªõi ni·ªÅm ƒëam m√™ s√°ch v√† c√¥ng ngh·ªá. S·ª© m·ªánh c·ªßa ch√∫ng t√¥i l√† t·∫°o ra
              m·ªôt kh√¥ng gian tr·ª±c tuy·∫øn, n∆°i m·ªçi ng∆∞·ªùi c√≥ th·ªÉ d·ªÖ d√†ng t√¨m ki·∫øm,
              kh√°m ph√° v√† chia s·∫ª ki·∫øn th·ª©c t·ª´ v√¥ s·ªë ƒë·∫ßu s√°ch tr√™n kh·∫Øp th·∫ø
              gi·ªõi.
            </p>
            <p>
              Trang web n√†y s·ª≠ d·ª•ng d·ªØ li·ªáu t·ª´ Open Library API, m·ªôt d·ª± √°n m·ªü
              nh·∫±m m·ª•c ƒë√≠ch t·∫°o ra "m·ªôt trang web cho m·ªói cu·ªën s√°ch t·ª´ng ƒë∆∞·ª£c
              xu·∫•t b·∫£n". Ch√∫ng t√¥i tin r·∫±ng vi·ªác ti·∫øp c·∫≠n tri th·ª©c n√™n l√† quy·ªÅn
              c·ªßa t·∫•t c·∫£ m·ªçi ng∆∞·ªùi, v√† d·ª± √°n n√†y l√† m·ªôt b∆∞·ªõc nh·ªè ƒë·ªÉ hi·ªán th·ª±c
              h√≥a ni·ªÅm tin ƒë√≥.
            </p>
          </div>
          <div class="col-md-5 text-center">
            <img
              src="https://images.unsplash.com/photo-1532012197267-da84d127e765?w=500"
              alt="Th∆∞ vi·ªán s√°ch"
              class="img-fluid rounded shadow"
            />
          </div>
        </div>
        <hr class="my-5" />
        <h3 class="text-center mb-4">ƒê·ªôi ng≈© Ph√°t tri·ªÉn</h3>
        <div class="row">
          <div class="col-md-4 offset-md-4">
            <div class="team-member">
              <img
                src="https://i.pinimg.com/564x/f3/0d/18/f30d18c71853488889e802052136e043.jpg"
                alt="Developer Icon"
                class="img-fluid"
              />
              <h5>BILLEYS DEV</h5>
              <p class="text-muted">Full-Stack Developer</p>
            </div>
          </div>
        </div>
        <div class="text-center mt-5">
          <button class="btn btn-primary btn-lg" onclick="showPage('register')">
            B·∫Øt ƒë·∫ßu ngay
          </button>
        </div>
      </section>

      <section id="settings" class="page hidden truly-hidden">
        <h2 class="text-center mb-5">C√†i ƒë·∫∑t T√†i kho·∫£n</h2>
        <div class="row">
          <div class="col-md-8 offset-md-2">
            <div class="settings-block">
              <h5>Th√¥ng tin c√° nh√¢n</h5>
              <p>
                <strong>T√™n ng∆∞·ªùi d√πng:</strong>
                <span id="setting-username">...</span>
              </p>
              <p><strong>Email:</strong> <span id="setting-email">...</span></p>
            </div>
            <div class="settings-block">
              <h5>B·∫£o m·∫≠t</h5>
              <form id="change-password-form">
                <div class="mb-3">
                  <label for="new-password" class="form-label"
                    >M·∫≠t kh·∫©u m·ªõi</label
                  >
                  <input
                    type="password"
                    id="new-password"
                    class="form-control"
                    required
                    minlength="6"
                  />
                </div>
                <div class="mb-3">
                  <label for="confirm-new-password" class="form-label"
                    >X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi</label
                  >
                  <input
                    type="password"
                    id="confirm-new-password"
                    class="form-control"
                    required
                    minlength="6"
                  />
                </div>
                <button type="submit" class="btn btn-primary">
                  ƒê·ªïi M·∫≠t Kh·∫©u
                </button>
              </form>
            </div>
            <div class="settings-block">
              <h5>Giao di·ªán</h5>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="themeRadio"
                  id="lightThemeRadio"
                  value="light"
                /><label class="form-check-label" for="lightThemeRadio"
                  >S√°ng</label
                >
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="themeRadio"
                  id="darkThemeRadio"
                  value="dark"
                /><label class="form-check-label" for="darkThemeRadio"
                  >T·ªëi</label
                >
              </div>
            </div>
            <div id="admin-upgrade-block" class="settings-block truly-hidden">
              <h5>N√¢ng c·∫•p t√†i kho·∫£n</h5>
              <p>Nh·∫≠p m√£ ƒë·ªÉ n√¢ng c·∫•p t√†i kho·∫£n c·ªßa b·∫°n th√†nh Qu·∫£n tr·ªã vi√™n.</p>
              <div class="input-group">
                <input
                  type="password"
                  id="admin-code-input"
                  class="form-control"
                  placeholder="M√£ Admin"
                />
                <button id="admin-upgrade-btn" class="btn btn-primary">
                  X√°c nh·∫≠n
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="submit-feedback" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">G·ª≠i Feedback</h2>
        <form id="feedback-form">
          <div class="mb-3">
            <label for="name" class="form-label">T√™n:</label
            ><input type="text" class="form-control" id="name" required />
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email:</label
            ><input type="email" class="form-control" id="email" required />
          </div>
          <div class="mb-3">
            <label for="message" class="form-label">Ph·∫£n h·ªìi:</label
            ><textarea
              class="form-control"
              id="message"
              rows="5"
              required
            ></textarea>
          </div>
          <button type="submit" class="btn btn-primary">G·ª≠i</button>
        </form>
      </section>

      <section id="feedback-inbox" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">H·ªôp th∆∞ Feedback</h2>
        <div id="feedback-list"></div>
      </section>

      <section id="manage-books" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">Qu·∫£n L√Ω S√°ch Do Ng∆∞·ªùi D√πng Th√™m</h2>

        <div class="add-book-form mb-5">
          <h4>Ch·ªânh s·ª≠a s√°ch (Admin)</h4>
          <p class="text-muted">
            Ch·ªçn 'S·ª≠a' t·ª´ b·∫£ng b√™n d∆∞·ªõi ƒë·ªÉ t·∫£i th√¥ng tin s√°ch v√†o form n√†y.
          </p>
          <form id="admin-book-form">
            <input type="hidden" id="admin-book-id-input" />
            <div class="mb-3">
              <label class="form-label">Ti√™u ƒë·ªÅ</label
              ><input
                type="text"
                id="admin-book-title-input"
                class="form-control"
                required
              />
            </div>
            <div class="mb-3">
              <label class="form-label">T√°c gi·∫£</label
              ><input
                type="text"
                id="admin-book-author-input"
                class="form-control"
              />
            </div>
            <div class="mb-3">
              <label class="form-label">Link ·∫£nh b√¨a</label
              ><input
                type="url"
                id="admin-book-cover-input"
                class="form-control"
                placeholder="https://..."
              />
            </div>
            <div class="mb-3">
              <label class="form-label">Gi·ªõi thi·ªáu</label
              ><textarea
                id="admin-book-desc-input"
                class="form-control"
                rows="5"
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">L∆∞u thay ƒë·ªïi</button>
            <button
              type="button"
              class="btn btn-secondary"
              id="clear-admin-book-form-btn"
            >
              X√≥a form
            </button>
          </form>
        </div>

        <h4>Danh s√°ch t·∫•t c·∫£ s√°ch do ng∆∞·ªùi d√πng th√™m</h4>
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th>Ti√™u ƒë·ªÅ</th>
                <th>T√°c gi·∫£</th>
                <th>Ng∆∞·ªùi th√™m</th>
                <th>Ng√†y th√™m</th>
                <th>H√†nh ƒë·ªông</th>
              </tr>
            </thead>
            <tbody id="all-user-books-tbody"></tbody>
          </table>
        </div>
      </section>

      <section id="forum" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">Di·ªÖn ƒê√†n S√°ch</h2>

        <div class="add-post-form mb-5">
          <h4>T·∫°o b√†i vi·∫øt m·ªõi</h4>
          <form id="post-form">
            <div class="mb-3">
              <label for="post-title" class="form-label"
                >Ti√™u ƒë·ªÅ b√†i vi·∫øt</label
              >
              <input
                type="text"
                id="post-title"
                class="form-control"
                required
              />
            </div>
            <div class="mb-3">
              <label for="post-content" class="form-label">N·ªôi dung</label>
              <textarea
                id="post-content"
                class="form-control"
                rows="5"
                required
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">ƒêƒÉng b√†i</button>
          </form>
        </div>

        <h3 class="mb-3">C√°c b√†i vi·∫øt g·∫ßn ƒë√¢y</h3>
        <div id="forum-posts-list"></div>
      </section>

      <section id="post-detail" class="page hidden truly-hidden">
        <div id="post-detail-content"></div>
      </section>

      <section id="manage-users" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h2>

        <div class="user-management-form mb-5">
          <h4>Th√™m / Ch·ªânh s·ª≠a ng∆∞·ªùi d√πng</h4>
          <form id="user-form">
            <input type="hidden" id="user-id-input" />
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="user-username-input" class="form-label"
                  >T√™n ng∆∞·ªùi d√πng</label
                >
                <input
                  type="text"
                  id="user-username-input"
                  class="form-control"
                  required
                />
              </div>
              <div class="col-md-6 mb-3">
                <label for="user-email-input" class="form-label">Email</label>
                <input
                  type="email"
                  id="user-email-input"
                  class="form-control"
                  required
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="user-password-input" class="form-label"
                  >M·∫≠t kh·∫©u (ƒê·ªÉ tr·ªëng n·∫øu kh√¥ng ƒë·ªïi)</label
                >
                <input
                  type="password"
                  id="user-password-input"
                  class="form-control"
                  placeholder="√çt nh·∫•t 6 k√Ω t·ª±"
                />
              </div>
              <div class="col-md-6 mb-3">
                <label for="user-role-select" class="form-label">Vai tr√≤</label>
                <select id="user-role-select" class="form-select">
                  <option value="user">User</option>
                  <option value="admin">Admin</option>
                </select>
              </div>
            </div>
            <button type="submit" class="btn btn-primary">
              L∆∞u ng∆∞·ªùi d√πng
            </button>
            <button
              type="button"
              class="btn btn-secondary"
              id="clear-user-form-btn"
            >
              X√≥a form
            </button>
          </form>
        </div>

        <h4>Danh s√°ch ng∆∞·ªùi d√πng</h4>
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th>T√™n ng∆∞·ªùi d√πng</th>
                <th>Email</th>
                <th>Vai tr√≤</th>
                <th>H√†nh ƒë·ªông</th>
              </tr>
            </thead>
            <tbody id="users-list-tbody"></tbody>
          </table>
        </div>
      </section>

      <section id="my-books" class="page hidden truly-hidden">
        <h2 class="text-center mb-4">S√°ch C·ªßa T√¥i</h2>
        <div class="add-book-form mb-5">
          <h4>Th√™m / Ch·ªânh s·ª≠a s√°ch</h4>
          <form id="my-book-form">
            <input type="hidden" id="my-book-id-input" />
            <div class="mb-3">
              <label class="form-label">Ti√™u ƒë·ªÅ</label
              ><input
                type="text"
                id="my-book-title-input"
                class="form-control"
                required
              />
            </div>
            <div class="mb-3">
              <label class="form-label">T√°c gi·∫£</label
              ><input
                type="text"
                id="my-book-author-input"
                class="form-control"
              />
            </div>
            <div class="mb-3">
              <label class="form-label">Link ·∫£nh b√¨a</label
              ><input
                type="url"
                id="my-book-cover-input"
                class="form-control"
                placeholder="https://..."
              />
            </div>
            <div class="mb-3">
              <label class="form-label">Gi·ªõi thi·ªáu</label
              ><textarea
                id="my-book-desc-input"
                class="form-control"
                rows="5"
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">L∆∞u s√°ch</button>
            <button
              type="button"
              class="btn btn-secondary"
              id="clear-my-book-form-btn"
            >
              X√≥a form
            </button>
          </form>
        </div>

        <h4>Danh s√°ch s√°ch b·∫°n ƒë√£ th√™m</h4>
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th>Ti√™u ƒë·ªÅ</th>
                <th>T√°c gi·∫£</th>
                <th>Ng√†y th√™m</th>
                <th>H√†nh ƒë·ªông</th>
              </tr>
            </thead>
            <tbody id="my-books-list-tbody"></tbody>
          </table>
        </div>
      </section>
    </main>

    <div id="toast-container"></div>
    <footer class="text-center py-3 mt-4 bg-dark text-white">
      <p>&copy; 2025 Online Book Store.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script>
      const firebaseConfig = {
        apiKey: "AIzaSyBrxunXPnVJbFbmo59UI4trmu8bd8ffRms",
        authDomain: "billey-book-store.firebaseapp.com",
        projectId: "billey-book-store",
        storageBucket: "billey-book-store.firebasestorage.app",
        messagingSenderId: "428737796619",
        appId: "1:428737796619:web:4cf67b17e7292c5535c50e",
        measurementId: "G-E21CZSTZN0",
      };

      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const db = firebase.firestore();
    </script>
    <script src="script.js"></script>
    <script>
      (function () {
        if (!window.chatbase || window.chatbase("getState") !== "initialized") {
          window.chatbase = (...arguments) => {
            if (!window.chatbase.q) {
              window.chatbase.q = [];
            }
            window.chatbase.q.push(arguments);
          };
          window.chatbase = new Proxy(window.chatbase, {
            get(target, prop) {
              if (prop === "q") {
                return target.q;
              }
              return (...args) => target(prop, ...args);
            },
          });
        }
        const onLoad = function () {
          const script = document.createElement("script");
          script.src = "https://www.chatbase.co/embed.min.js";
          script.id = "2BqH8LMVQBreDCcS08ttK"; // ID Chatbot c·ªßa b·∫°n
          script.domain = "www.chatbase.co";
          document.body.appendChild(script);
        };
        if (document.readyState === "complete") {
          onLoad();
        } else {
          window.addEventListener("load", onLoad);
        }
      })();
    </script>
  </body>
</html>
